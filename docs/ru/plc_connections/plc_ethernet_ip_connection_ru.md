# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥—Ä–∞–π–≤–µ—Ä–∞ Ethernet/IP (Rockwell Automation)

## –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–æ—Ç–æ–∫–æ–ª **EtherNet/IP** (Industrial Protocol) ‚Äî —ç—Ç–æ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π Common Industrial Protocol (CIP) –ø–æ–≤–µ—Ä—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ Ethernet.
–í —Å–∏—Å—Ç–µ–º–µ **Faceplate** –¥–∞–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏ **Allen-Bradley (Rockwell Automation)** –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.

### üè≠ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
–°–æ–≥–ª–∞—Å–Ω–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥—Ä–∞–π–≤–µ—Ä–∞, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–º–µ–π—Å—Ç–≤–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤:
* **ControlLogix / CompactLogix** (–¢–µ–≥–æ–≤–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è, CIP)
* **Micro800** (–°–µ—Ä–∏—è Micro820/850/870)
* **MicroLogix** (PCCC –∞–¥—Ä–µ—Å–∞—Ü–∏—è)
* **SLC 500** (Legacy, PCCC)
* **PLC-5** (Legacy, PCCC)
* **LogixPCCC** (–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è Logix —á–µ—Ä–µ–∑ PCCC)

---

## –®–ê–ì 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (`plc_ethernet_ip_connection`)

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–µ—Å—Å–∏—è —Å–≤—è–∑–∏ —Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º.

![–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è Ethernet/IP](images/eip_connection.png)

### 1.1 –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (General Settings)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| **Name** | –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –∏–º—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `cip_line1_main`). |
| **Period (ms)** | –ü–µ—Ä–∏–æ–¥ –æ–ø—Ä–æ—Å–∞. <br>*–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:* –î–ª—è Ethernet/IP –æ–±—ã—á–Ω–æ 100-500 –º—Å. CIP ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª, –Ω–æ –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–π—Ç–µ EN2T –º–æ–¥—É–ª–∏. |
| **Shutdown timeout** | –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–∞–∑—Ä—ã–≤–∞ TCP-—Å–µ—Å—Å–∏–∏ (CIP Forward Close). |
| **Master connection** | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è (Redundancy). –°—Å—ã–ª–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–Ω–∞–ª. |
| **Support for group requests** | **Yes** ‚Äî –≤–∫–ª—é—á–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é (Multi-Request packets). –î—Ä–∞–π–≤–µ—Ä –±—É–¥–µ—Ç —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–π –≤ –æ–¥–∏–Ω Ethernet-–∫–∞–¥—Ä. |

### 1.2 –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ (Controller Settings)

–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è —Å–µ–∫—Ü–∏—è, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∞—è –º–µ—Ç–æ–¥ –∞–¥—Ä–µ—Å–∞—Ü–∏–∏.

![–¢–∏–ø—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤](images/plc_type.png)

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ |
| :--- | :--- |
| **–¢–∏–ø –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞** | –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ–º–µ–π—Å—Ç–≤–æ –ü–õ–ö:<br>‚Ä¢ **ControlLogix:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏–º–≤–æ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Ç–µ–≥–æ–≤. –°–∞–º—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º.<br>‚Ä¢ **MicroLogix / SLC / PLC5:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç –∞–¥—Ä–µ—Å–∞—Ü–∏—é —Ñ–∞–π–ª–æ–≤ –¥–∞–Ω–Ω—ã—Ö (N7:0, F8:1). |
| **IP** | IP-–∞–¥—Ä–µ—Å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è –∏–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞. |
| **–†–æ—É—Ç–∏–Ω–≥ (Routing)** | *–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ.* –ü—É—Ç—å CIP (CIP Path) –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—É, –µ—Å–ª–∏ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–µ –≤ —Ç–æ–º –∂–µ —Å–ª–æ—Ç–µ, –∫—É–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç Ethernet, –∏–ª–∏ –≤ –¥—Ä—É–≥–æ–º —à–∞—Å—Å–∏.<br>*–§–æ—Ä–º–∞—Ç:* –û–±—ã—á–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä `–ü–æ—Ä—Ç,–ê–¥—Ä–µ—Å`.<br>*–ü—Ä–∏–º–µ—Ä:* `1,0` (Backplane, Slot 0). –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è CompactLogix (–±–µ–∑ —à–∞—Å—Å–∏). |

---

## –®–ê–ì 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–≥–æ–≤ (`plc_ethernet_ip_binding`)

–í –ø—Ä–æ—Ç–æ–∫–æ–ª–µ Ethernet/IP (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è ControlLogix) –º—ã –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ –¥–∞–Ω–Ω—ã–º –ø–æ **–ò–º–µ–Ω–∏ —Ç–µ–≥–∞**, –∞ –Ω–µ –ø–æ –∞–¥—Ä–µ—Å—É –ø–∞–º—è—Ç–∏.

![–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏ —Ç–µ–≥–∞](images/eip_bindings.png)

### 2.1 –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–≤—è–∑–∫–∏

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| **Name** | –ò–º—è –æ–±—ä–µ–∫—Ç–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –≤ –¥–µ—Ä–µ–≤–µ —Å–∏—Å—Ç–µ–º—ã. |
| **Tag** | –°–∏—Å—Ç–µ–º–Ω—ã–π —Ç–µ–≥ Faceplate, –∫—É–¥–∞ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ. |
| **Access** | **R** (–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ), **W** (–¢–æ–ª—å–∫–æ –∑–∞–ø–∏—Å—å), **RW**. |
| **Transformation** | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–Ω–≤–µ—Ä—Å–∏—è –±–∏—Ç). |

### 2.2 –ê–¥—Ä–µ—Å–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (Target Data)

| –ü–æ–ª–µ | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—é |
| :--- | :--- |
| **Controller tag name** | **–°–∏–º–≤–æ–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –≤ –ü–õ–ö.**<br>‚Ä¢ –î–ª—è **ControlLogix:** –ò–º—è —Ç–µ–≥–∞, –∫–∞–∫ –≤ Studio 5000. –ù–∞–ø—Ä–∏–º–µ—Ä: `MyTag`, `Program:MainProg.Step`.<br>‚Ä¢ –î–ª—è **SLC/MicroLogix:** –ê–¥—Ä–µ—Å —ç–ª–µ–º–µ–Ω—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä: `N7:0`, `F8:10`, `B3:0/5`. |
| **Data type** | –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö, –æ–∂–∏–¥–∞–µ–º—ã–π –æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ (DINT, REAL, BOOL, STRING). –î–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–∏–ø–æ–º, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–º –≤ –ü–õ–ö. |

---

<!-- ## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

1.  **CIP Path (–†–æ—É—Ç–∏–Ω–≥):** –°–∞–º–∞—è —á–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —à–∞—Å—Å–∏ ControlLogix. –ï—Å–ª–∏ Ethernet-–º–æ–¥—É–ª—å —Å—Ç–æ–∏—Ç –≤ —Å–ª–æ—Ç–µ 1, –∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤ —Å–ª–æ—Ç–µ 0, IP-–∞–¥—Ä–µ—Å–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –ù—É–∂–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –ø—É—Ç—å –∫ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—É —á–µ—Ä–µ–∑ Backplane.
2.  **–°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ç–µ–≥–æ–≤:** –í ControlLogix —Ç–µ–≥–∏ –±—ã–≤–∞—é—Ç *Controller Scoped* (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ) –∏ *Program Scoped* (–ª–æ–∫–∞–ª—å–Ω—ã–µ).
    * –ì–ª–æ–±–∞–ª—å–Ω—ã–π: `TagName`
    * –õ–æ–∫–∞–ª—å–Ω—ã–π: `Program:ProgramName.TagName`
3.  **–°—Ç—Ä–æ–∫–∏ (Strings):** –í Allen-Bradley —Å—Ç—Ä–æ–∫–∏ –∏–º–µ—é—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–¥–ª–∏–Ω–∞ + –¥–∞–Ω–Ω—ã–µ). –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `Data type` –≤—ã–±—Ä–∞–Ω –≤–µ—Ä–Ω–æ, —á—Ç–æ–±—ã –¥—Ä–∞–π–≤–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É.
4.  **Legacy (SLC/PLC5):** –≠—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é `Support for group requests` —Ç–∞–∫ –∂–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –∫–∞–∫ –Ω–æ–≤—ã–µ. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏ —Å–≤—è–∑–∏, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å —ç—Ç—É –æ–ø—Ü–∏—é. -->